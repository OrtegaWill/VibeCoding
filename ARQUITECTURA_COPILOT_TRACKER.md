# Diagrama de Arquitectura - Copilot Ticket Tracker

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                           COPILOT TICKET TRACKER                   โ
โ                     (Sistema de Gestiรณn de Tickets)                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                              FRONTEND                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ Dashboard        ๐ซ Tickets        โ๏ธ Settings        ๐ง Import  โ
โ  - Mรฉtricas          - Lista          - Filtros          - Excel    โ
โ  - Estadรญsticas      - Detalle        - Usuarios         - CSV      โ
โ  - Grรกficos          - Comentarios    - Configuraciรณn    - Outlook  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                    โ
                              Blazor Server
                                    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                             BACKEND                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ง Services                    ๐ก Hubs                             โ
โ  - TicketManagerService         - TicketHub (SignalR)              โ
โ  - OutlookService              - Notificaciones en tiempo real      โ
โ  - EmailClassifierService                                           โ
โ  - FileImportService           ๐ฏ Models                            โ
โ  - NotificationService         - Ticket                             โ
โ                                - TicketComment                       โ
โ                                - EmailFilter                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                    โ
                            Entity Framework Core
                                    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                             DATABASE                                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐๏ธ SQLite Database                                                โ
โ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ     โ
โ  โ     Tickets     โ  โ TicketComments  โ  โ  EmailFilters   โ     โ
โ  โ                 โ  โ                 โ  โ                 โ     โ
โ  โ โข Id            โ  โ โข Id            โ  โ โข Id            โ     โ
โ  โ โข EmailId       โ  โ โข TicketId      โ  โ โข Name          โ     โ
โ  โ โข Subject       โ  โ โข Content       โ  โ โข FromDomain    โ     โ
โ  โ โข Description   โ  โ โข Author        โ  โ โข Keywords      โ     โ
โ  โ โข Status        โ  โ โข CreatedDate   โ  โ โข AutoCategory  โ     โ
โ  โ โข Priority      โ  โ โข IsSystem      โ  โ โข AutoPriority  โ     โ
โ  โ โข AssignedTo    โ  โโโโโโโโโโโโโโโโโโโ  โ โข IsActive      โ     โ
โ  โ โข CreatedDate   โ                       โโโโโโโโโโโโโโโโโโโ     โ
โ  โ โข ... (30+ campos)                                               โ
โ  โโโโโโโโโโโโโโโโโโโ                                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                        INTEGRACIONES EXTERNAS                       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                     โ
โ  ๐ง Microsoft Outlook 365         ๐ Archivos Excel/CSV            โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโโโโโโโโ       โ
โ  โ  Microsoft Graph API    โ      โ     File Upload         โ       โ
โ  โ  - Autenticaciรณn OAuth2 โ      โ     - EPPlus (Excel)    โ       โ
โ  โ  - Lectura de emails    โ      โ     - CsvHelper (CSV)   โ       โ
โ  โ  - Filtros automรกticos  โ      โ     - Mapeo automรกtico  โ       โ
โ  โ  - Conversiรณn a tickets โ      โ     - Validaciรณn datos  โ       โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโโโโโโโโโ       โ
โ                                                                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                            FLUJO DE DATOS                           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ง Email โ ๐ Filter โ ๐ซ Ticket โ ๐ฅ Assign โ ๐ง Work โ โ Resolve

1. EMAIL INGRESA
   - Usuario envรญa email a soporte
   - Outlook recibe y almacena

2. DETECCIรN AUTOMรTICA
   - Graph API consulta emails nuevos
   - EmailClassifierService analiza contenido
   - Aplica filtros y reglas automรกticas

3. CREACIรN DE TICKET
   - Convierte email en objeto Ticket
   - Asigna categorรญa, prioridad automรกticamente
   - Guarda en base de datos SQLite

4. ASIGNACIรN
   - Reglas automรกticas asignan a grupos/usuarios
   - Notificaciones vรญa SignalR
   - Dashboard se actualiza en tiempo real

5. GESTIรN Y SEGUIMIENTO
   - Usuario actualiza estado
   - Agrega comentarios y tiempo trabajado
   - Sistema registra historial completo

6. RESOLUCIรN
   - Marca como resuelto
   - Documenta soluciรณn y causa raรญz
   - Actualiza mรฉtricas y estadรญsticas

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                          CARACTERรSTICAS CLAVE                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                     โ
โ  โ AUTOMATIZACIรN                                                  โ
โ     - Conversiรณn automรกtica email โ ticket                          โ
โ     - Clasificaciรณn inteligente                                     โ
โ     - Asignaciรณn basada en reglas                                   โ
โ                                                                     โ
โ  โ TIEMPO REAL                                                     โ
โ     - Actualizaciones instantรกneas (SignalR)                        โ
โ     - Notificaciones automรกticas                                    โ
โ     - Dashboard dinรกmico                                             โ
โ                                                                     โ
โ  โ INTEGRACIรN                                                     โ
โ     - Microsoft Graph API nativa                                    โ
โ     - Importaciรณn masiva de archivos                                โ
โ     - Compatibilidad con ecosistema Microsoft                       โ
โ                                                                     โ
โ  โ TRAZABILIDAD                                                    โ
โ     - Historial completo de cambios                                 โ
โ     - Mรฉtricas de tiempo y rendimiento                              โ
โ     - Anรกlisis de causa raรญz                                        โ
โ                                                                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```